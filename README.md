# Ответы на экзаменационные билеты по курсу "Встроенные системы"

## Оглавление
* [Билет 1](#билет-1)
    1. Определение встроенной системы. Компоненты встроенной системы.
    2. Порты вывода с открытым коллектором (стоком). Схемотехника. Достоинства и недостатки.
* [Билет 2](#билет-2)
    1. Характеристики встроенной системы.
    2. Двунаправленные порты. Порты с альтернативной функцией.
* [Билет 3](#билет-3)
    1. Определения: Надежность, Отказоустойчивость, В режиме реального времени, Гибкость, Переносимость.
    2. Таймеры-счетчики. Режим таймера.
* [Билет 4](#билет-4)
    1. Типы встраиваемых систем (Малый, Средний, Сложные).
    2. Таймеры-счетчики. Режим счетчика. Таймеры MCS-51. Регистр TMOD.
* [Билет 5](#билет-5)
    1. Отличия микроконтроллера от микропроцессора. Области применения.
    2. Схема управления Таймерами (0 или 1). Регистр TCON.
* [Билет 6](#билет-6)
    1. Преимущества и недостатки встроенной системы.
    2. Режимы работы таймеров MCS-51: Режим 0, Режим 1, Режим 2, Режим 3.
* [Билет 7](#билет-7)
    1. Процессоры во встроенной системе. Типы процессоров.
    2. Настройка таймера на заданную частоту. Использование таймера в качестве измерителя ширины импульсов и частотомера.
* [Билет 8](#билет-8)
    1. Микропроцессор против микроконтроллера (Блок схема).
    2. Модули таймеров-счетчиков со схемами входного захвата, выходного сравнения и выработки сигналов с ШИМ.
* [Билет 9](#билет-9)
    1. Архитектура фон Неймана.
    2. Схема выработки сигнала с ШИМ. Процессоры событий.
* [Билет 10](#билет-10)
    1. Гарвардская Архитектура.
    2. Аналого-цифровой преобразователь (АЦП). Характеристики.
* [Билет 11](#билет-11)
    1. Архитектура фон-Неймана против архитектуры Гарварда. CISC и RISC.
    2. Источник опорного напряжения Vref и коммутатор Vref. Режимы работы АЦП. Аналоговый компаратор.
* [Билет 12](#билет-12)
    1. Инструменты (Компилятор, Кросс-компилятор, Декомпилятор, Конвертер языков).
    2. Классификация АЦП. Параллельные АЦП. АЦП последовательного приближения.
* [Билет 13](#билет-13)
    1. Инструменты (Ассемблеры, Средства отладки).
    2. Цифро-аналоговый преобразователь (ЦАП). Матрица R-2R.
* [Билет 14](#билет-14)
    1. Инструменты (Симуляторы, Эмуляторы, Стартовые наборы микроконтроллеров).
    2. Контроллеры последовательных интерфейсов. Модуль UART.
* [Билет 15](#билет-15)
    1. Периферийные устройства во встроенных системах. Критерии выбора микроконтроллера.
    2. Контроллер последовательного интерфейса в MCS-51. Режимы работы (0, 1, 2, 3).
* [Билет 16](#билет-16)
    1. Программируемые логические интегральные схемы (ПЛИС). Программируемая логическая матрица (PLA).
    2. Регистр управления последовательным портом SCON в MCS-51. Генерация скорости обмена.
* [Билет 17](#билет-17)
    1. CPLD. FPGA. Логический элемент FPGA.
    2. Подсистема синхронизации.
* [Билет 18](#билет-18)
    1. Системы-на-кристалле (SoC).
    2. Механизмы начальной инициализации (Boot). Параметры конфигурации.
* [Билет 19](#билет-19)
    1. Типовая структура процессора для встроенных систем. Базовый блок.
    2. Внешнее программирование памяти программ (Параллельное, Последовательное, JTAG).
* [Билет 20](#билет-20)
    1. Организация прерываний в управляющих процессорах. Источники. Обработка.
    2. Сетевые интерфейсы. Интерфейс I2C.

## Билет 1
### 1. Определение встроенной системы. Компоненты встроенной системы.
**Встроенная система (Embedded System)** — это специализированная система управления, разработанная для работы непосредственно внутри устройства, которым она управляет. В отличие от универсальных компьютеров, она обычно выполняет одну или несколько фиксированных задач, часто с жесткими ограничениями по времени (реальное время), энергопотреблению и стоимости.

**Компоненты встроенной системы:**
1.  **Аппаратное обеспечение (Hardware):** Микроконтроллер или микропроцессор, память, периферийные устройства, датчики, исполнительные механизмы.
2.  **Прикладное программное обеспечение (Application Software):** Программа, реализующая логику работы устройства.
3.  **Операционная система реального времени (RTOS):** (Опционально) Контролирует выполнение прикладного ПО, обеспечивает планирование задач и соблюдение временных ограничений. В простых системах может отсутствовать.

### 2. Порты вывода с открытым коллектором (стоком). Схемотехника. Достоинства и недостатки.
**Схемотехника:** Выходной каскад построен по однотактной схеме, где активным элементом является транзистор, замыкающий выход на землю (логический "0"). Для получения логической "1" требуется внешний подтягивающий резистор (pull-up), подключенный к источнику питания.

**Достоинства:**
*   Возможность согласования уровней напряжения (например, управление устройством 5В от контроллера 3.3В).
*   Возможность прямого управления высоковольтными нагрузками (если транзистор позволяет).
*   Реализация "монтажного И" (Wired-AND) — подключение нескольких выходов к одной линии (например, шина I2C).
*   Простота схемы.

**Недостатки:**
*   Требуется внешний резистор.
*   Низкая скорость переключения из "0" в "1" (зависит от емкости линии и сопротивления резистора).
*   Потребление тока через резистор в состоянии "0".

---

## Билет 2
### 1. Характеристики встроенной системы.
1.  **Однофункциональность:** Выполняет специализированную операцию (например, контроллер стиральной машины).
2.  **Жесткие ограничения (Constraints):** Ограничения по стоимости, размеру, энергопотреблению и производительности.
3.  **Работа в реальном времени (Real-time):** Должна реагировать на внешние события в течение строго определенного времени (например, ABS в автомобиле).
4.  **Надежность и отказоустойчивость:** Должна работать без сбоев длительное время без вмешательства человека.
5.  **Базируется на микропроцессорах/микроконтроллерах.**
6.  **Отсутствие стандартной периферии:** Часто не имеет клавиатуры/монитора, взаимодействует через специализированные интерфейсы.

### 2. Двунаправленные порты. Порты с альтернативной функцией.
**Двунаправленные порты:** Позволяют как вводить, так и выводить информацию.
*   *Квазидвунаправленные:* (как в MCS-51) Имеют слабую подтяжку к "1". Для ввода нужно записать "1" в порт.
*   *Переключаемые:* Имеют регистр направления (DDR), который переключает выходной буфер в активное или высокоимпедансное (Z) состояние.

**Порты с альтернативной функцией:**
Многие выводы микроконтроллера мультиплексированы. Они могут работать как GPIO (порт общего назначения) или выполнять функции встроенной периферии (TX/RX для UART, SDA/SCL для I2C, входы АЦП). Выбор функции осуществляется через регистры конфигурации или автоматически при включении периферийного модуля.

---

## Билет 3
### 1. Определения: Надежность, Отказоустойчивость, В режиме реального времени, Гибкость, Переносимость.
*   **Надежность:** Вероятность того, что система будет выполнять свои функции без сбоев в течение заданного времени.
*   **Отказоустойчивость:** Способность системы продолжать работу (возможно, с деградацией функций) при возникновении аппаратных или программных сбоев.
*   **В режиме реального времени (Real-time):** Способность системы гарантированно реагировать на события в рамках заданных временных ограничений (дедлайнов).
*   **Гибкость:** Возможность легкой модификации, отладки и обслуживания системы (например, наличие JTAG, возможность обновления прошивки).
*   **Переносимость:** Возможность использования программного обеспечения на различных аппаратных платформах с минимальными изменениями.

### 2. Таймеры-счетчики. Режим таймера.
**Таймеры-счетчики** — периферийные модули для подсчета временных интервалов или внешних событий.
**Режим таймера:**
*   Счетчик тактируется от **внутреннего** источника частоты (обычно системная частота, деленная на предделитель).
*   Используется для измерения времени, формирования задержек, генерации прерываний через равные промежутки времени.
*   Формула частоты: $F = F_{osc} / (Prescaler \times (MaxCount - ReloadValue))$.

---

## Билет 4
### 1. Типы встраиваемых систем (Малый, Средний, Сложные).
1.  **Малый масштаб:** 8/16-битные микроконтроллеры, малое потребление, часто без ОС, программирование на Ассемблере или C. (Пример: пульт ДУ, игрушка).
2.  **Средний масштаб:** 16/32-битные МК или DSP. Более сложные алгоритмы, использование C/C++, RTOS. (Пример: контроллер двигателя, медицинский прибор).
3.  **Сложные системы:** 32/64-битные процессоры, многоядерные SoC, использование полноценных ОС (Linux, Windows CE), сложные сетевые интерфейсы, GUI. (Пример: смартфон, маршрутизатор, мультимедиа система авто).

### 2. Таймеры-счетчики. Режим счетчика. Таймеры MCS-51. Регистр TMOD.
**Режим счетчика:**
*   Счетчик тактируется от **внешнего** вывода (T0/T1).
*   Подсчитывает количество импульсов (событий) извне.
*   Инкремент происходит по перепаду (фронту или спаду) сигнала.

**Таймеры MCS-51:** Имеет два 16-битных таймера (T0 и T1).
**Регистр TMOD (Timer Mode):** Определяет режим работы.
*   Старшие 4 бита — для T1, младшие 4 бита — для T0.
*   Биты:
    *   **GATE:** Управление запуском (если 1, то запуск только при высоком уровне на входе INTx).
    *   **C/T:** Выбор источника (0 = Таймер/внутр., 1 = Счетчик/внешн.).
    *   **M1, M0:** Выбор режима (00=13-бит, 01=16-бит, 10=8-бит с автозагрузкой, 11=два 8-битных).

---

## Билет 5
### 1. Отличия микроконтроллера от микропроцессора. Области применения.
**Микропроцессор (МП):**
*   "Сердце" компьютера. Требует внешних чипов памяти (ОЗУ, ПЗУ) и периферии.
*   Ориентирован на производительность и универсальность.
*   Применение: ПК, серверы, мощные вычислительные станции.

**Микроконтроллер (МК):**
*   "Компьютер на кристалле". Содержит процессор, ОЗУ, ПЗУ, таймеры, порты ввода-вывода в одной микросхеме.
*   Ориентирован на управление, компактность, низкое потребление и стоимость.
*   Применение: Бытовая техника, автомобильная электроника, промышленная автоматика, игрушки.

### 2. Схема управления Таймерами (0 или 1). Регистр TCON.
**Схема управления:** Включает мультиплексоры для выбора источника тактирования (C/T), логику запуска (TRx, GATE, INTx) и флаги переполнения.
**Регистр TCON (Timer Control):** Управляет запуском и флагами прерываний.
*   **TF1, TF0:** Флаги переполнения таймеров (устанавливаются аппаратно при переполнении, вызывают прерывание).
*   **TR1, TR0:** Биты запуска таймеров (1 = старт, 0 = стоп).
*   **IE1, IE0:** Флаги внешних прерываний.
*   **IT1, IT0:** Тип внешнего прерывания (по уровню или по фронту).

---

## Билет 6
### 1. Преимущества и недостатки встроенной системы.
**Преимущества:**
*   **Специализация:** Оптимизирована под конкретную задачу (цена/производительность).
*   **Надежность:** Меньше сбоев, чем у универсальных ОС.
*   **Компактность и энергоэффективность.**
*   **Стоимость:** Низкая цена при массовом производстве.
*   **Быстродействие:** Работа в реальном времени.

**Недостатки:**
*   **Сложность разработки:** Требует знаний аппаратной части и низкоуровневого ПО.
*   **Узкая специализация:** Трудно перепрограммировать под совершенно другую задачу.
*   **Ограниченные ресурсы:** Мало памяти и вычислительной мощности.
*   **Сложность отладки.**

### 2. Режимы работы таймеров MCS-51: Режим 0, Режим 1, Режим 2, Режим 3.
*   **Режим 0:** 13-битный таймер (совместимость с 8048). Использует 8 бит THx и 5 бит TLx. Предделитель на 32.
*   **Режим 1:** 16-битный таймер. Использует полные THx и TLx. Основной режим для отсчета времени.
*   **Режим 2:** 8-битный таймер с **автоперезагрузкой**. TLx считает, при переполнении в него загружается значение из THx. Идеален для генерации точных частот (Baud rate).
*   **Режим 3:** (Только для T0). Разбивает T0 на два независимых 8-битных таймера. TL0 использует биты управления T0, TH0 использует биты управления T1. T1 в этом режиме остановлен.

---

## Билет 7
### 1. Процессоры во встроенной системе. Типы процессоров.
Процессор — основной вычислительный узел.
**Типы:**
1.  **Микроконтроллеры (MCU):** Самые массовые (8/16/32 бит). Все-в-одном.
2.  **Микропроцессоры (MPU):** Для мощных систем (ARM Cortex-A, x86). Требуют внешней обвязки.
3.  **Цифровые сигнальные процессоры (DSP):** Оптимизированы для математики (фильтрация, аудио/видео).
4.  **ASIC/ASSP:** Заказные микросхемы под конкретную задачу.
5.  **ПЛИС (FPGA):** Программируемая логика (можно создать свой процессор).

### 2. Настройка таймера на заданную частоту. Использование таймера в качестве измерителя ширины импульсов и частотомера.
*   **Настройка частоты:** Используется режим с автоперезагрузкой (Режим 2) или прерывание по совпадению. Значение перезагрузки рассчитывается исходя из тактовой частоты и требуемого периода.
*   **Измеритель ширины импульса:** Используется бит **GATE**. Если GATE=1, таймер считает только когда на входе INTx высокий уровень. Подав импульс на INTx, после его окончания в таймере будет число тактов, равное длительности.
*   **Частотомер:** Таймер настраивается в режим **Счетчика** (C/T=1). Второй таймер отмеряет эталонный интервал времени (например, 1 сек). Количество импульсов, насчитанное первым таймером за этот интервал, и есть частота.

---

## Билет 8
### 1. Микропроцессор против микроконтроллера (Блок схема).
*   **Микропроцессор:** CPU + (внешняя шина) -> Внешняя Память + Внешний I/O. Блок-схема: Ядро соединено шинами адреса/данных с внешними чипами.
*   **Микроконтроллер:** CPU + RAM + ROM + I/O + Timers + ADC на одном кристалле. Блок-схема: Все блоки внутри одного прямоугольника (чипа), наружу выходят только порты I/O.

### 2. Модули таймеров-счетчиков со схемами входного захвата, выходного сравнения и выработки сигналов с ШИМ.
**CCP (Capture/Compare/PWM):**
*   **Входной захват (Input Capture):** Запоминает значение таймера в момент изменения сигнала на входе. Используется для измерения периода/длительности импульсов.
*   **Выходное сравнение (Output Compare):** Сравнивает счетчик с регистром. При совпадении меняет состояние выхода (0/1/инверсия). Используется для генерации импульсов заданной длины.
*   **ШИМ (PWM):** Генерирует периодический сигнал с изменяемой скважностью. Используется для управления двигателями, яркостью LED, ЦАП.

---

## Билет 9
### 1. Архитектура фон Неймана.
Классическая архитектура (принстонская).
*   **Единая память** для команд (программы) и данных.
*   **Единая шина** для передачи и команд, и данных.
*   **Особенность:** Процессор не может одновременно читать команду и данные (узкое место фон Неймана).
*   Проще в реализации, используется в универсальных ПК (x86) и некоторых МК (MSP430).

### 2. Схема выработки сигнала с ШИМ. Процессоры событий.
*   **Схема ШИМ:** Основана на таймере и регистре сравнения. Таймер считает (пилообразно). Когда счетчик < регистра сравнения -> выход = 1, иначе 0. Период задается переполнением таймера, скважность — регистром сравнения.
*   **Процессоры событий (PCA - Programmable Counter Array):** Продвинутый модуль, где один таймер обслуживает несколько каналов сравнения/захвата. Позволяет генерировать сложные синхронизированные сигналы с минимальной нагрузкой на CPU.

---

## Билет 10
### 1. Гарвардская Архитектура.
*   **Раздельная память** для команд (Program Memory) и данных (Data Memory).
*   **Раздельные шины** для команд и данных.
*   **Преимущество:** Процессор может одновременно считывать следующую инструкцию и обращаться к данным (конвейеризация). Работает быстрее.
*   Используется в большинстве микроконтроллеров (AVR, PIC, 8051).

### 2. Аналого-цифровой преобразователь (АЦП). Характеристики.
**АЦП (ADC)** преобразует аналоговое напряжение в цифровой код.
**Характеристики:**
1.  **Разрядность (Resolution):** Количество бит результата (8, 10, 12 бит). Определяет количество ступенек (2^N).
2.  **Частота дискретизации (Sampling Rate):** Сколько измерений в секунду (SPS).
3.  **Диапазон входного напряжения (Vref):** Обычно от 0 до Vcc или Vref.
4.  **Точность (Accuracy):** Отклонение реального значения от идеального (ошибки линейности, смещения).
5.  **Время преобразования:** Время от запуска до получения результата.


---

## Билет 11
### 1. Архитектура фон-Неймана против архитектуры Гарварда. CISC и RISC.
**Фон-Нейман vs Гарвард:**
*   *Фон-Нейман:* Проще, дешевле, одна шина, одна память. Медленнее из-за "бутылочного горлышка" шины.
*   *Гарвард:* Быстрее (параллельный доступ), сложнее (две шины), память программ часто неизменяемая (Flash/ROM). Стандарт для МК.

**CISC (Complex Instruction Set Computer):**
*   Много сложных инструкций (умножение, деление, работа со строками).
*   Код компактнее, но процессор сложнее.
*   Разная длина команд.
*   Пример: x86, MCS-51 (частично).

**RISC (Reduced Instruction Set Computer):**
*   Мало простых инструкций.
*   Выполняются за 1 такт.
*   Фиксированная длина команд.
*   Требует больше памяти для кода, но проще декодер и выше частота.
*   Пример: ARM, AVR, PIC, MIPS.

### 2. Источник опорного напряжения Vref и коммутатор Vref. Режимы работы АЦП. Аналоговый компаратор.
*   **Vref:** Эталонное напряжение, с которым сравнивается входной сигнал. Определяет верхнюю границу измерения (код $11...1 = V_{ref}$). Может быть внутренним (например, 2.56В) или внешним (через пин AREF).
*   **Режимы АЦП:**
    *   *Одиночное преобразование:* Запуск -> Измерение -> Стоп.
    *   *Непрерывное (Free Running):* Запуск нового измерения сразу после окончания предыдущего.
    *   *По событию (Triggered):* Запуск от таймера или внешнего прерывания.
*   **Аналоговый компаратор:** Сравнивает два аналоговых напряжения (A и B). Выдает логическую "1", если A > B, и "0", если A < B. Используется для быстрой реакции на пороговые события без использования медленного АЦП.

---

## Билет 12
### 1. Инструменты (Компилятор, Кросс-компилятор, Декомпилятор, Конвертер языков).
*   **Компилятор:** Преобразует код на языке высокого уровня (C, C++) в машинный код для *текущей* платформы.
*   **Кросс-компилятор:** Работает на одной платформе (например, Windows x64), но создает код для *другой* (например, ARM Cortex-M). Основной инструмент разработчика встроенных систем.
*   **Декомпилятор:** Пытается восстановить исходный код из машинного (обратная задача).
*   **Конвертер:** Переводит код с одного языка на другой.

### 2. Классификация АЦП. Параллельные АЦП. АЦП последовательного приближения.
*   **Параллельные (Flash ADC):** Самые быстрые. Содержат $2^N - 1$ компараторов. Преобразуют мгновенно. Дорогие, потребляют много энергии, низкая разрядность (обычно до 8 бит).
*   **АЦП последовательного приближения (SAR):** Самые популярные в МК. Используют один компаратор и ЦАП. Методом дихотомии (деления пополам) подбирают биты от старшего к младшему. Хороший баланс скорости и точности (10-12 бит).

---

## Билет 13
### 1. Инструменты (Ассемблеры, Средства отладки).
*   **Ассемблер:** Транслирует мнемокоды (MOV, ADD) в машинные инструкции 1-в-1. Позволяет полный контроль над железом.
*   **Средства отладки:**
    *   *JTAG/SWD:* Аппаратные интерфейсы для подключения к чипу.
    *   *Отладчик (Debugger):* ПО, позволяющее ставить точки останова (breakpoints), шагать по коду, смотреть регистры и память.

### 2. Цифро-аналоговый преобразователь (ЦАП). Матрица R-2R.
**ЦАП (DAC):** Преобразует цифровой код в аналоговое напряжение.
**Матрица R-2R:** Схема из резисторов всего двух номиналов (R и 2R). Позволяет создать ЦАП любой разрядности без прецизионного подбора множества разных резисторов. Каждому биту соответствует свой ключ, подключающий звено к Vref или GND.

---

## Билет 14
### 1. Инструменты (Симуляторы, Эмуляторы, Стартовые наборы микроконтроллеров).
*   **Симулятор:** Чисто программная модель процессора. Позволяет отлаживать логику без железа. Не всегда точно моделирует время и внешнюю периферию.
*   **Эмулятор (In-Circuit Emulator, ICE):** Аппаратное устройство, заменяющее реальный процессор в схеме. Позволяет полную отладку в реальном времени. Сейчас часто заменяется внутрисхемной отладкой (JTAG).
*   **Стартовый набор (Starter Kit / Evaluation Board):** Плата с микроконтроллером и базовой периферией (кнопки, LED, USB), готовая к работе. Нужна для быстрого старта изучения и прототипирования.

### 2. Контроллеры последовательных интерфейсов. Модуль UART.
**UART (Universal Asynchronous Receiver-Transmitter):**
*   Асинхронный интерфейс (нет общей линии тактирования).
*   Использует две линии: RX (прием) и TX (передача).
*   Данные передаются пакетами: Старт-бит + Данные (5-9 бит) + (Бит четности) + Стоп-бит(ы).
*   Требует согласования скорости (Baud Rate) на обоих концах.

---

## Билет 15
### 1. Периферийные устройства во встроенных системах. Критерии выбора микроконтроллера.
**Периферия:** Таймеры, АЦП/ЦАП, UART, SPI, I2C, USB, CAN, Ethernet, контроллеры дисплеев, PWM.
**Критерии выбора МК:**
1.  **Разрядность и производительность** (хватит ли скорости?).
2.  **Память** (Flash для кода, RAM для переменных).
3.  **Набор периферии** (нужен ли CAN? сколько UART?).
4.  **Количество выводов (GPIO).**
5.  **Напряжение питания и энергопотребление.**
6.  **Цена и доступность.**
7.  **Наличие средств разработки.**

### 2. Контроллер последовательного интерфейса в MCS-51. Режимы работы (0, 1, 2, 3).
В MCS-51 один UART.
*   **Режим 0 (Сдвиговый регистр):** Синхронный режим. RXD — данные, TXD — такты. Скорость фиксирована ($F_{osc}/12$). Используется для расширения портов.
*   **Режим 1 (8-битный UART):** Стандартный асинхронный. 10 бит (старт + 8 данных + стоп). Скорость задается таймером (переменная).
*   **Режим 2 (9-битный UART):** 11 бит (старт + 8 данных + 9-й бит + стоп). Скорость фиксирована ($F_{osc}/32$ или $/64$). 9-й бит можно использовать для адресации или четности.
*   **Режим 3 (9-битный UART):** Как режим 2, но скорость задается таймером (переменная).

---

## Билет 16
### 1. Программируемые логические интегральные схемы (ПЛИС). Программируемая логическая матрица (PLA).
**ПЛИС (PLD/FPGA):** Микросхемы, логику работы которых задает разработчик. Состоят из множества логических ячеек и связей.
**PLA (Programmable Logic Array):** Простейший вид ПЛИС. Состоит из матрицы элементов "И" и матрицы элементов "ИЛИ". Позволяет реализовать любую булеву функцию в виде суммы произведений. Программируется пережиганием перемычек.

### 2. Регистр управления последовательным портом SCON в MCS-51. Генерация скорости обмена.
**SCON (Serial Control):**
*   **SM0, SM1:** Выбор режима (00-11).
*   **SM2:** Разрешение мультипроцессорной связи (для режимов 2 и 3).
*   **REN:** Разрешение приема (Receiver Enable).
*   **TB8:** 9-й бит для передачи.
*   **RB8:** 9-й принятый бит.
*   **TI:** Флаг прерывания передачи (устанавливается аппаратно после отправки байта).
*   **RI:** Флаг прерывания приема (устанавливается после приема байта).

**Генерация скорости:** В режимах 1 и 3 скорость зависит от переполнения Таймера 1 (обычно в режиме 2 автоперезагрузки). Формула: $Baud = (2^{SMOD}/32) \times (Timer1\_Overflow\_Rate)$.

---

## Билет 17
### 1. CPLD. FPGA. Логический элемент FPGA.
*   **CPLD (Complex PLD):** Энергонезависимые (Flash). Меньше ресурсов, но предсказуемые задержки. Структура: макроячейки.
*   **FPGA (Field-Programmable Gate Array):** Энергозависимые (SRAM, нужна загрузка при старте). Огромное количество ресурсов. Структура: матрица логических блоков (CLB).
*   **Логический элемент (Logic Cell/Element):** Базовый кирпичик FPGA. Обычно содержит:
    *   **LUT (Look-Up Table):** Таблица истинности (память) для реализации логической функции.
    *   **Триггер (Flip-Flop):** Для хранения состояния (последовательностная логика).
    *   **Мультиплексоры:** Для маршрутизации.

### 2. Подсистема синхронизации.
Обеспечивает тактирование всех узлов МК.
*   **Источники:** Внешний кварц (HSE), внутренний RC-генератор (HSI), часовой кварц (LSE).
*   **PLL (ФАПЧ):** Умножитель частоты. Позволяет получить высокую частоту ядра (например, 72 МГц) из низкой частоты кварца (8 МГц).
*   **Делители:** Раздают частоту на шины периферии (APB, AHB) с разными скоростями.

---

## Билет 18
### 1. Системы-на-кристалле (SoC).
**SoC:** Интеграция всех компонентов компьютера на одном чипе. Включает не только процессор и память, но и контроллеры дисплея, графические ускорители (GPU), модемы (GSM/Wi-Fi), модули безопасности.
Примеры: Qualcomm Snapdragon, Apple M1, ESP32. Позволяет создавать миниатюрные и мощные устройства.

### 2. Механизмы начальной инициализации (Boot). Параметры конфигурации.
*   **Reset:** При подаче питания или сигнале Reset процессор переходит по фиксированному адресу (вектор сброса).
*   **Bootloader:** Небольшая программа в защищенной области памяти, которая запускается первой. Она настраивает базовую периферию (Clock, RAM) и решает, что грузить дальше (основную прошивку или режим обновления).
*   **Конфигурация (Fuse bits):** Специальные биты настройки, которые задают режимы работы до старта кода (источник тактирования, защита от чтения, контроль питания BOD).

---

## Билет 19
### 1. Типовая структура процессора для встроенных систем. Базовый блок.
Модульный принцип.
*   **Базовый блок (Ядро):** ALU, регистры, декодер команд, шины адреса/данных, блок управления. Это неизменная часть семейства (например, ядро Cortex-M3).
*   **Изменяемый блок:** Набор периферии и памяти, который меняется от модели к модели (STM32F103C8 vs STM32F103RB).

### 2. Внешнее программирование памяти программ (Параллельное, Последовательное, JTAG).
*   **Параллельное:** Высоковольтное. Требует много выводов. Быстрое, используется при производстве чипов или для "лечения" заблокированных МК.
*   **Последовательное (ISP - In-System Programming):** Программирование в плате. Использует SPI (MOSI, MISO, SCK, Reset). Популярно в AVR.
*   **JTAG:** Стандартный интерфейс для тестирования и отладки. Позволяет программировать Flash и полноценно отлаживать код.

---

## Билет 20
### 1. Организация прерываний в управляющих процессорах. Источники. Обработка.
**Прерывание (Interrupt):** Сигнал, заставляющий процессор прервать текущую программу и выполнить обработчик (ISR).
*   **Источники:**
    *   *Внешние:* Изменение уровня на пине, нажатие кнопки.
    *   *Внутренние:* Переполнение таймера, окончание АЦП, прием байта по UART.
*   **Обработка:**
    1.  Текущая инструкция завершается.
    2.  Адрес возврата (PC) и регистры сохраняются в стек.
    3.  Процессор переходит по адресу вектора прерывания.
    4.  Выполняется код обработчика.
    5.  Команда возврата (RETI) восстанавливает контекст из стека.

### 2. Сетевые интерфейсы. Интерфейс I2C.
**I2C (Inter-Integrated Circuit):**
*   Синхронный, полудуплексный, шинный интерфейс.
*   **Линии:** SDA (Data) и SCL (Clock). Обе подтянуты резисторами к питанию (открытый коллектор).
*   **Адресация:** Каждое устройство имеет уникальный 7-битный адрес. Мастер инициирует обмен, посылая адрес.
*   **Протокол:** Старт -> Адрес + R/W -> ACK -> Данные -> ACK -> Стоп.
*   Позволяет подключать до 127 устройств на две проволоки.
